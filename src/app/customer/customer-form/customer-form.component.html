<ng-container 
    *ngIf="
        {
            countryOptions: countryOptions$ | async, 
            customerParentOptions: customerParentOptions$ | async, 
            languageOptions: languageOptions$ | async,
            priceListOptions: priceListOptions$ | async
        } 
        as optionData"
>
    <form [formGroup]="componentForm" class="row no-gutters" (submit)="getValue()">
        
        <div class="col-12 col-md-3 px-0 pr-0 py-0 pr-md-16 m-0">

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Name')"
                    formControlName="companyName"
                ></app-input>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Contact person first name')"
                    formControlName="firstName"
                ></app-input>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Contact person last name')"
                    formControlName="lastName"
                ></app-input>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-select
                    [config]="selectConfig('Type', 'Select Parent', true)"
                    formControlName="companyType"
                    [options]="typeOptions"
                ></app-select>
            </div>

        </div>

        <div class="col-12 col-md-3 px-0 px-md-16 m-0">
            
            <div class="col-12 mx-0 p-0 mb-14">
                <app-select
                    [config]="selectConfig('Parent', 'Select Parent', true, 'id', 'companyName')"
                    formControlName="parentId"
                    [options]="optionData.customerParentOptions"
                ></app-select>
            </div>

            <div class="col-12 mb-6 m-0 p-0">
                    <app-textarea 
                    [config]="textAreaConfig"
                    formControlName="address"
                    id="address" 
                >
                </app-textarea>
            </div>

            <div class="col-12 p-0">
                <app-select
                    [config]="selectConfig('Language', 'Select Langugae', true, 'id', 'option')"
                    formControlName="language"
                    [options]="optionData.languageOptions"
                ></app-select>
            </div>

        </div>


        <div class="col-12 col-md-3 px-0 px-md-16 m-0">
            
            <div class="col-12 mb-14 m-0 p-0">
                <app-select
                    [config]="selectConfig('Country', 'Select Country', true, 'code', 'name')"
                    formControlName="country"
                    [options]="optionData.countryOptions"
                ></app-select>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Phone', 'tel')"
                    formControlName="phoneNumber"
                ></app-input>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Email', 'email')"
                    formControlName="email"
                ></app-input>
            </div>
            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Company Email', 'email')"
                    formControlName="companyEmail"
                ></app-input>
            </div>

        </div>


        <div class="col-12 col-md-3 px-0 px-md-16 m-0">

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Anniversary date', 'text', 'Enter Aniversary Date', false, false)"
                    formControlName="anniversaryDate"
                ></app-input>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Subscription fee', 'text', 'Type here', true)"
                    formControlName="subscriptionFee"
                ></app-input>
            </div>
            
            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Support hours contract')"
                    formControlName="supportHoursContract"
                ></app-input>
            </div>

            <div class="col-12 mb-14 m-0 p-0">
                <app-input
                    [config]="inputConfig('Support hours available')"
                    formControlName="supportHoursAvailable"
                ></app-input>
            </div>

             <div class="col-12 mb-14 m-0 p-0">
                <app-select
                    [config]="selectConfig('Price List', 'Select Price List', true, 'id', 'name')"
                    formControlName="priceListId"
                    [options]="optionData.priceListOptions"
                ></app-select>
            </div>
            

        </div>

        <div class="w-100">
            <div class="rc-light-grey-bg mt-15 p-16 d-flex justify-content-end">
                <app-button type="button" color="secondaryB" class="mr-8">
                    {{buttons.buttonB}}
                </app-button>

                <app-button type="submit" color="primary" [disabled]="!componentForm.valid || isLoading"> 
                    <app-loader type="button" *ngIf="isLoading"></app-loader>
                    <span *ngIf="!isLoading">{{buttons.buttonA}}</span> 
                </app-button>

            </div>
        </div>
        
    </form>
    
</ng-container>